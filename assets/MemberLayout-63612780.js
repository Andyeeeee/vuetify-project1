import{Z as V,Y as g,_ as h,$ as k,a1 as w,a2 as l,a3 as c,c as t,a5 as e,ae as i,a9 as a,aa as u,aP as x,a7 as y,a8 as L,X as v,ab as C,ac as B,aF as M}from"./index-2f815cd8.js";import{V as R,a as N}from"./VNavigationDrawer-54f0d3a9.js";const P={id:"MemberLayout"},A={__name:"MemberLayout",setup(S){const d=V(),r=g(),s=h(),{avatar:p,account:m}=k(s),_=[{to:"/",title:"會員資料",icon:"mdi-account"},{to:"/member/noworder",title:"訂單進度",icon:"mdi-clipboard-text-search-outline"},{to:"/",title:"回首頁",icon:"mdi-home"}],f=async()=>{try{await M.delete("/users/logout"),s.logout(),r({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),d.push("/")}catch(n){r({text:n.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(n,T)=>{const b=w("RouterView");return l(),c("div",P,[t(R,{permanent:"",id:"MemberLayout",style:{"background-color":"#004886"}},{default:e(()=>[t(i,null,{default:e(()=>[t(a,{"prepend-avatar":u(p),title:u(m)},null,8,["prepend-avatar","title"])]),_:1}),t(x),t(i,null,{default:e(()=>[(l(),c(y,null,L(_,o=>t(a,{key:o.to,to:o.to,title:o.title,"prepend-icon":o.icon},null,8,["to","title","prepend-icon"])),64)),t(a,{onClick:f},{prepend:e(()=>[t(v,{icon:"mdi-logout"})]),default:e(()=>[t(C,null,{default:e(()=>[B("登出")]),_:1})]),_:1})]),_:1})]),_:1}),t(N,null,{default:e(()=>[t(b,{style:{"margin-top":"-300px"}})]),_:1})])}}};export{A as default};
