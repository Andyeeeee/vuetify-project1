import{Z as h,Y as b,_ as g,$ as k,a1 as w,a2 as i,a3 as l,c as t,a5 as e,ae as c,a9 as a,aa as u,aP as x,a7 as L,a8 as y,X as v,ab as C,ac as A,aF as B}from"./index-4b7dd70e.js";import{V as R,a as N}from"./VNavigationDrawer-5ce98e19.js";const P={id:"AdminLayout"},E={__name:"AdminLayout",setup(S){const d=h(),s=b(),n=g(),{avatar:m,account:p}=k(n),_=[{to:"/admin/products",title:"商品管理",icon:"mdi-shopping"},{to:"/admin/orders",title:"訂單管理",icon:"mdi-format-list-numbered"},{to:"/admin/noworder",title:"訂單進度",icon:"mdi-clipboard-text-search-outline"},{to:"/",title:"回首頁",icon:"mdi-home"}],f=async()=>{try{await B.delete("/users/logout"),n.logout(),s({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),d.push("/")}catch(r){s({text:r.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(r,T)=>{const V=w("RouterView");return i(),l("div",P,[t(R,{permanent:"",id:"AdminLayout"},{default:e(()=>[t(c,null,{default:e(()=>[t(a,{"prepend-avatar":u(m),title:u(p)},null,8,["prepend-avatar","title"])]),_:1}),t(x),t(c,null,{default:e(()=>[(i(),l(L,null,y(_,o=>t(a,{key:o.to,to:o.to,title:o.title,"prepend-icon":o.icon},null,8,["to","title","prepend-icon"])),64)),t(a,{onClick:f},{prepend:e(()=>[t(v,{icon:"mdi-logout"})]),default:e(()=>[t(C,null,{default:e(()=>[A("登出")]),_:1})]),_:1})]),_:1})]),_:1}),t(N,null,{default:e(()=>[t(V)]),_:1})])}}};export{E as default};
