import{Y as m,x as h,aF as k,a2 as s,a4 as b,a5 as n,c as u,aN as y,af as t,a3 as c,a8 as i,ad as o,a7 as _}from"./index-4b7dd70e.js";import{b as V,a as p,V as g}from"./VRow-554d223d.js";const w=t("h1",{class:"text-center"},"訂單",-1),x=t("thead",{style:{"background-color":"#d9d9d9",color:"black"}},[t("tr",null,[t("td",null,"ID"),t("td",null,"日期"),t("td",null,"金額"),t("td",null,"商品")])],-1),D={__name:"OrdersView",setup(B){const f=m(),d=h([]);return(async()=>{try{const{data:l}=await k.get("/orders");d.value.push(...l.result.map(r=>(r.total=r.cart.reduce((a,e)=>a+e.product.price*e.quantity,0),r)))}catch(l){console.log(l),f({text:l.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(l,r)=>(s(),b(V,null,{default:n(()=>[u(g,null,{default:n(()=>[u(p,{cols:"12"},{default:n(()=>[w]),_:1}),u(p,{cols:"12"},{default:n(()=>[u(y,null,{default:n(()=>[x,t("tbody",null,[(s(!0),c(_,null,i(d.value,a=>(s(),c("tr",{key:a._id},[t("td",null,o(a._id),1),t("td",null,o(new Date(a.date).toLocaleString()),1),t("td",null,o(a.total),1),t("td",null,[t("ul",null,[(s(!0),c(_,null,i(a.cart,e=>(s(),c("li",{key:e._id},o(e.product.name)+" * "+o(e.quantity),1))),128))])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{D as default};
