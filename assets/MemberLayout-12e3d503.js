import{Z as b,Y as g,_ as h,$ as k,a1 as w,a2 as l,a3 as c,c as t,a5 as e,a9 as i,ac as a,ad as u,aT as x,a7 as y,a8 as L,X as v,ae as C,af as B,aF as M}from"./index-4d0593a8.js";import{V as R,a as T}from"./VNavigationDrawer-a2a6f004.js";const N={id:"MemberLayout"},A={__name:"MemberLayout",setup(S){const d=b(),s=g(),r=h(),{avatar:p,account:m}=k(r),_=[{to:"/member",title:"訂單",icon:"mdi-script-text-outline"},{to:"/",title:"回首頁",icon:"mdi-home"}],f=async()=>{try{await M.delete("/users/logout"),r.logout(),s({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),d.push("/")}catch(n){s({text:n.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(n,D)=>{const V=w("RouterView");return l(),c("div",N,[t(R,{permanent:"",id:"MemberLayout",style:{"background-color":"#004886"}},{default:e(()=>[t(i,null,{default:e(()=>[t(a,{"prepend-avatar":u(p),title:u(m)},null,8,["prepend-avatar","title"])]),_:1}),t(x),t(i,null,{default:e(()=>[(l(),c(y,null,L(_,o=>t(a,{key:o.to,to:o.to,title:o.title,"prepend-icon":o.icon},null,8,["to","title","prepend-icon"])),64)),t(a,{onClick:f},{prepend:e(()=>[t(v,{icon:"mdi-logout"})]),default:e(()=>[t(C,null,{default:e(()=>[B("登出")]),_:1})]),_:1})]),_:1})]),_:1}),t(T,null,{default:e(()=>[t(V)]),_:1})])}}};export{A as default};
