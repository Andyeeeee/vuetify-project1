import{Y as h,x as m,aF as V,a2 as s,a3 as n,c as o,a5 as r,aN as y,aa as t,a7 as i,a8 as _,ag as u}from"./index-eedf069e.js";import{b,V as g,a as p}from"./VRow-9143f5cd.js";const k={id:"OrdersView"},w=t("h3",{class:"text-center"},"訂單",-1),x=t("thead",null,[t("tr",null,[t("td",null,"ID"),t("td",null,"日期"),t("td",null,"金額"),t("td",null,"商品")])],-1),v={__name:"OrdersView",setup(B){const f=h(),d=m([]);return(async()=>{try{const{data:l}=await V.get("/orders");d.value.push(...l.result.map(c=>(c.total=c.cart.reduce((a,e)=>a+e.product.price*e.quantity,0),c)))}catch(l){console.log(l),f({text:l.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(l,c)=>(s(),n("div",k,[o(b,null,{default:r(()=>[o(g,null,{default:r(()=>[o(p,{cols:"12"},{default:r(()=>[w]),_:1}),o(p,{cols:"12"},{default:r(()=>[o(y,null,{default:r(()=>[x,t("tbody",null,[(s(!0),n(i,null,_(d.value,a=>(s(),n("tr",{key:a._id},[t("td",null,u(a._id),1),t("td",null,u(new Date(a.date).toLocaleString()),1),t("td",null,u(a.total),1),t("td",null,[t("ul",null,[(s(!0),n(i,null,_(a.cart,e=>(s(),n("li",{key:e._id},u(e.product.name)+" * "+u(e.quantity),1))),128))])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{v as default};
