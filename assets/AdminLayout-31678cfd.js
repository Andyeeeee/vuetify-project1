import{Z as h,Y as g,_ as b,$ as k,a1 as w,a2 as i,a3 as l,c as t,a5 as e,a9 as c,ac as a,ad as u,aT as x,a7 as y,a8 as L,X as v,ae as C,af as B,aF as R}from"./index-ccf2d2b2.js";import{V as T,a as A}from"./VNavigationDrawer-43740aac.js";const N={id:"AdminLayout"},E={__name:"AdminLayout",setup(S){const d=h(),s=g(),n=b(),{avatar:m,account:p}=k(n),_=[{to:"/admin/products",title:"商品管理",icon:"mdi-shopping"},{to:"/admin/orders",title:"訂單管理",icon:"mdi-format-list-numbered"},{to:"/admin/noworder",title:"訂單進度",icon:"mdi-clipboard-text-search-outline"},{to:"/",title:"回首頁",icon:"mdi-home"}],f=async()=>{try{await R.delete("/users/logout"),n.logout(),s({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),d.push("/")}catch(r){s({text:r.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(r,D)=>{const V=w("RouterView");return i(),l("div",N,[t(T,{permanent:"",class:"layout-baground"},{default:e(()=>[t(c,null,{default:e(()=>[t(a,{"prepend-avatar":u(m),title:u(p)},null,8,["prepend-avatar","title"])]),_:1}),t(x),t(c,null,{default:e(()=>[(i(),l(y,null,L(_,o=>t(a,{key:o.to,to:o.to,title:o.title,"prepend-icon":o.icon},null,8,["to","title","prepend-icon"])),64)),t(a,{onClick:f},{prepend:e(()=>[t(v,{icon:"mdi-logout"})]),default:e(()=>[t(C,null,{default:e(()=>[B("登出")]),_:1})]),_:1})]),_:1})]),_:1}),t(A,null,{default:e(()=>[t(V)]),_:1})])}}};export{E as default};
