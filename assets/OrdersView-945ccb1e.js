import{Y as h,x as m,aF as y,a2 as s,a3 as n,c as u,a5 as o,aN as V,aa as t,a7 as i,a8 as _,ag as e}from"./index-2d2cd486.js";import{b,V as k,a as p}from"./VRow-f9086152.js";const w={id:"OrdersView"},g=t("h3",{class:"text-center"},"訂單管理",-1),x=t("thead",{style:{color:"black"}},[t("tr",null,[t("td",null,"ID"),t("td",null,"日期"),t("td",null,"使用者訂單"),t("td",null,"金額"),t("td",null,"商品")])],-1),v={__name:"OrdersView",setup(B){const f=h(),d=m([]);return(async()=>{try{const{data:r}=await y.get("/orders/all");d.value.push(...r.result.map(c=>(c.total=c.cart.reduce((a,l)=>a+l.product.price*l.quantity,0),c)))}catch(r){f({text:r.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(r,c)=>(s(),n("div",w,[u(b,null,{default:o(()=>[u(k,null,{default:o(()=>[u(p,{cols:"12"},{default:o(()=>[g]),_:1}),u(p,{cols:"12"},{default:o(()=>[u(V,null,{default:o(()=>[x,t("tbody",null,[(s(!0),n(i,null,_(d.value,a=>(s(),n("tr",{key:a._id},[t("td",null,e(a._id),1),t("td",null,e(new Date(a.date).toLocaleString()),1),t("td",null,e(a.user.account),1),t("td",null,e(a.total),1),t("td",null,[t("ul",null,[(s(!0),n(i,null,_(a.cart,l=>(s(),n("li",{key:l._id},e(l.product.name)+" * "+e(l.quantity),1))),128))])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{v as default};
