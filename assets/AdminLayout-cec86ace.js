import{Z as h,Y as g,_ as b,$ as k,a1 as w,a2 as i,a3 as l,c as t,a5 as e,ae as c,a9 as o,aa as u,aP as L,a7 as x,a8 as y,X as v,ab as C,ac as A,aF as B}from"./index-2f815cd8.js";import{V as R,a as N}from"./VNavigationDrawer-54f0d3a9.js";const P={id:"AdminLayout"},E={__name:"AdminLayout",setup(S){const d=h(),s=g(),n=b(),{avatar:m,account:p}=k(n),_=[{to:"/admin/products",title:"商品管理",icon:"mdi-shopping"},{to:"/admin/orders",title:"訂單管理",icon:"mdi-format-list-numbered"},{to:"/",title:"回首頁",icon:"mdi-home"}],f=async()=>{try{await B.delete("/users/logout"),n.logout(),s({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),d.push("/")}catch(r){s({text:r.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(r,T)=>{const V=w("RouterView");return i(),l("div",P,[t(R,{permanent:"",id:"AdminLayout"},{default:e(()=>[t(c,null,{default:e(()=>[t(o,{"prepend-avatar":u(m),title:u(p)},null,8,["prepend-avatar","title"])]),_:1}),t(L),t(c,null,{default:e(()=>[(i(),l(x,null,y(_,a=>t(o,{key:a.to,to:a.to,title:a.title,"prepend-icon":a.icon},null,8,["to","title","prepend-icon"])),64)),t(o,{onClick:f},{prepend:e(()=>[t(v,{icon:"mdi-logout"})]),default:e(()=>[t(C,null,{default:e(()=>[A("登出")]),_:1})]),_:1})]),_:1})]),_:1}),t(N,null,{default:e(()=>[t(V)]),_:1})])}}};export{E as default};
